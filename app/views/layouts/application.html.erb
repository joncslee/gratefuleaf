<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for?(:title) ? yield(:title) : "Untitled" %></title>
    <%= stylesheet_link_tag "application" %>
    <%= javascript_include_tag :application %>
    <%= csrf_meta_tag %>
    <%= yield(:head) %>
  </head>
  <body>
    <div id="container">

      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li class="<%= 'active' if params[:controller] == 'landing' && params[:action] == 'index' %>"><a href="/">Home</a></li>
          <li><a href="#">About</a></li>
          <% if current_user %>
            <li class="<%= 'active' if params[:controller] == 'leaves' %>"><%= link_to "Leaves", '/leaves' %></li>
            <li class="<%= 'active' if params[:controller] == 'users' && params[:action] == 'edit' %>"><%= link_to "Edit profile", edit_user_path(current_user.id) %></li>
            <li><%= link_to "Logout", logout_path %></li>
          <% else %>
            <li class="<%= 'active' if params[:controller] == 'users' && params[:action] == 'new' %>"><%= link_to "Signup", new_user_path %></li>
            <li class="<%= 'active' if params[:controller] == 'user_sessions' && params[:action] == 'new' %>"><%= link_to "Login", login_path %></li>
          <% end %>
        </ul>
        <%= image_tag 'logo1.png', :style => "height: 40px;" %>
      </div>
      
      <% flash.each do |name, msg| %>
        <%= content_tag :div, msg, :id => "flash_#{name}" %>
      <% end %>
      <%= content_tag :h1, yield(:title) if show_title? %>
      <%= yield %>
    </div>
  </body>
</html>
